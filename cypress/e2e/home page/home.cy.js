import Home from "../../support/PageObjects/home"
import Url from "../../support/PageObjects/url"
describe('Home page', () => {
  let home = new Home()
  let url = new Url()
  beforeEach(() => {
    url.homePage()
    cy.title().should('eq', 'Welcome to Aspiritech » Aspiritech Neurodivergent QA Testers')
    cy.get('h3').contains('Cultivate Potential for Autistic Adults').should('be.visible')
  })
  it('Tests the first section of home page', () => {
    cy.section('Quality Assurance, Accessibility, and Data Services')
    cy.step('Verify the first section is visible')
    cy.get('h2').contains('Quality Assurance, Accessibility, and Data Services').should('be.visible')
    cy.get('em').contains('Excellence powered by a neurodivergent team').should('be.visible')
    cy.get('h2').contains('Our Services').should('be.visible')
  })
  it('Tests the accessibility section block in the services section', () => {
    cy.section('Accessibility Section')
    cy.step('Verify the accessibility section is visible and clickable')
    home.accessibility().contains('a', 'Accessibility').should('have.attr', 'href', '/services/accessibility/').click()
    cy.get('h1').contains('Accessibility').should('be.visible')
    cy.step('Verify the accessibility page is loaded, the title and url are correct')
    cy.title().should('eq', 'Accessibility Testing: Design, Usability, & WCAG Conformance » Aspiritech')
    cy.url().should('include', 'accessibility')
  })
    it('Tests the audio testing section block in the services section', () => {
    cy.section('Audio Testing Section')
    cy.step('Verify the audio testing section is visible and clickable')
    home.audioTesting().contains('a', 'Audio Testing').should('have.attr', 'href', '/services/audio-testing/').click()
    cy.get('h1').contains('Audio & Hardware Testing: Speakers, Headphones, & Connectivity').should('be.visible')
    cy.step('Verify the audio testing page is loaded, the title and url are correct')
    cy.title().should('eq', 'Audio & Hardware Testing: Speakers, Headphones, & Connectivity » Aspiritech')
    cy.url().should('include', 'audio-testing')
  })
   it('Tests the quality assurance section block in the services section', () => {
    cy.section('Quality Assurance Section')
    cy.step('Verify the quality assurance section is visible and clickable')
    home.qualityAssurance().contains('a', 'Quality Assurance').should('have.attr', 'href', '/services/quality-assurance/').click()
    cy.get('h1').contains('Software Quality Assurance').should('be.visible')
    cy.step('Verify the quality assurance page is loaded, the title and url are correct')
    cy.title().should('eq', 'Software Quality Assurance » Aspiritech')
    cy.url().should('include', 'quality-assurance')
  })
  it('Tests the data services section block in the services section', () => {
    cy.section('Data Services Section')
    cy.step('Verify the data services section is visible and clickable')
    home.dataServices().contains('a', 'Data Services').should('have.attr', 'href', '/services/data-services/').click()
    cy.get('h1').contains('Data Services').should('be.visible')
    cy.step('Verify the data services page is loaded, the title and url are correct')
    cy.title().should('eq', 'Data Services: Data Annotation, Data Labeling, and Data Validation » Aspiritech')
    cy.url().should('include', 'data-services')
  })
  it('Tests the creative services section block in the services section', () => {
    cy.section('Creative Services Section')
    cy.step('Verify the creative services section is visible and clickable')
    home.creativeServices().contains('a', 'Creative Services').should('have.attr', 'href', '/services/creative-services/').click()
    cy.get('h1').contains('Creative Services').should('be.visible')
    cy.step('Verify the creative services page is loaded, the title and url are correct')
    cy.title().should('eq', 'Creative Services » Aspiritech')
    cy.url().should('include', 'creative-services')
  })
  it('Tests the web design & development section block in the services section', () => {
    cy.section('Web Design & Development Section')
    cy.step('Verify the web design & development section is visible and clickable')
    home.webDesignDevelopment().contains('a', 'Web Design & Development').should('have.attr', 'href', '/services/web-design-development/').click()
    cy.get('h1').contains('Web Design & Development').should('be.visible')
    cy.step('Verify the web design & development page is loaded, the title and url are correct')
    cy.title().should('eq', 'Web Design & Development » Aspiritech')
    cy.url().should('include', 'web-design-development')
  })
  it('Tests the automation section block in the services section', () => {
    cy.section('Automation Section')
    cy.step('Verify the automation section is visible and clickable')
    home.automation().contains('a', 'Automation').should('have.attr', 'href', '/services/automation/').click()
    cy.get('h1').contains('Automation').should('be.visible')
    cy.step('Verify the automation page is loaded, the title and url are correct')
    cy.title().should('eq', 'Automation » Aspiritech')
    cy.url().should('include', 'automation')
  })
  it('Tests the managed it section block in the services section', () => {
    cy.section('Managed IT Section')
    cy.step('Verify the managed it section is visible and clickable')
    home.managedIt().contains('a', 'Managed IT').should('have.attr', 'href', '/services/managed-it/').click()
    cy.get('h1').contains('Managed IT').should('be.visible')
    cy.step('Verify the managed it page is loaded, the title and url are correct')
    cy.title().should('eq', 'Managed IT » Aspiritech')
    cy.url().should('include', 'managed-it')
  })
  it('Tests the cybersecurity section block in the services section', () => {
    cy.section('Cybersecurity Section')
    cy.step('Verify the cybersecurity section is visible and clickable')
    home.cybersecurity().contains('a', 'Cybersecurity').should('have.attr', 'href', '/services/cybersecurity/').click()
    cy.get('h1').contains('Cybersecurity').should('be.visible')
    cy.step('Verify the cybersecurity page is loaded, the title and url are correct')
    cy.title().should('eq', 'Cybersecurity » Aspiritech')
    cy.url().should('include', 'cybersecurity')
  })
  it('Tests the discover how we can help section in the home page', () => {
    cy.section('Discover How We Can Help Section')
    cy.step('Verify the discover how we can help section is visible')
    cy.get('h2').contains('Discover How We Can Help').should('be.visible')
    cy.step('Verify the discover how we can help section is clickable')
    cy.get('.yellow').contains('Quality Assurance, End-To-End User Testing, and More').should('have.attr', 'href', '/index.php/services/quality-assurance/').click()
    cy.step('Verify the quality assurance page is loaded, the title and url are correct')
    cy.get('h1').contains('Software Quality Assurance').should('be.visible')
    cy.url().should('include', 'quality-assurance')
    cy.go('back')
  })
  it('Tests the manual and automated testing section in the home page', () => {
    cy.section('Manual and Automated Testing Section')
    cy.step('Verify the manual and automated testing section is visible')
    cy.get('div > .elementor-widget-wrap').should('be.visible').log('Maunal and Automated Testing', 'Audio Testing', 'Data Integrity and Migration')
  })
  it('Tests the audio testing section in the home page', () => {
    cy.section('Audio Testing Section')
    cy.step('Verify the audio testing section is visible')
    cy.get('div > .elementor-widget-wrap').should('be.visible').log('Audio Testing')
  })
  it('Tests the data integrity and migration section in the home page', () => {
    cy.section('Data Integrity and Migration Section')
    cy.step('Verify the data integrity and migration section is visible')
    cy.get('div > .elementor-widget-wrap').should('be.visible').log('Data Integrity and Migration')
  })
  it('Tests the accessibility & ADA compliance section in the home page', () => {
    cy.section('Accessibility & ADA Compliance Section')
    cy.step('Verify the accessibility & ADA compliance section is visible')
    cy.get('div > .elementor-widget-wrap').should('be.visible').log('Accessibility & ADA Compliance')
  })
  it('Tests the UX/UI, Responsive, & Device Testing section in the home page', () => {
    cy.section('UX/UI, Responsive, & Device Testing Section')
    cy.step('Verify the UX/UI, Responsive, & Device Testing section is visible')
    cy.get('div > .elementor-widget-wrap').should('be.visible').log('UX/UI, Responsive, & Device Testing')
  })
  it('Tests the training academy section in the home page', () => {
    cy.section('Training Academy Section')
    cy.step('Verify the training academy section is visible')
    cy.get('div > .elementor-widget-wrap').should('be.visible').log('Training Academy')
  })
  it('Tests the our expertise section in the home page', () => {
    cy.section('Our Expertise Section')
    cy.step('Verify the our expertise section is visible')
    cy.get('div > .elementor-widget-wrap').should('be.visible').log('Our Expertise')
  })
  it('Tests the our team section in the home page', () => {
    cy.section('Our Team Section')
    cy.step('Verify the our team section is visible')
    cy.get('div > .elementor-widget-wrap').should('be.visible').log('Our Team')
  })
  it('Tests the our philosophy section in the home page', () => {
    cy.section('Our Philosophy Section')
    cy.step('Verify the our philosophy section is visible')
    cy.get('div > .elementor-widget-wrap').should('be.visible').log('Our Philosophy')
  })
  it('Tests the our story section in the home page', () => {
    cy.section('Our Story Section')
    cy.step('Verify the our story section is visible')
    cy.get('div > .elementor-widget-wrap').should('be.visible').log('Our Story')
  })
  it('Tests the news & resources section in the home page', () => {
    cy.section('News & Resources Section')
    cy.step('Verify the news & resources section is visible')
    cy.get('h2').contains('News & Resources').should('be.visible')
    cy.step('Verify the first 3 article posts on section News & Resources are visible')
    home.getArticles()
  })
  it('Tests the contact us section in the home page', () => {
    cy.section('Contact Us Section')
    cy.step('Verify the contact us section is visible')
    cy.get('h2').contains('Contact Us').should('be.visible')
    cy.step('Verify the contact us section is clickable')
    cy.get('a').contains('Contact us').click()
    cy.get('h1').contains('Contact Us').should('be.visible')
    cy.url().should('include', 'contact-us')
    cy.go('back')
  })   
    //check for the column div
    //home.columndiv()
    //check for the video widget div
    //home.videowidget()
    //check for the video iframe
    //home.videoIframe()
    //load the page and wait for the iframe to load
    //cy.frameLoaded('.elementor-element-1e614d4 .elementor-video-iframe')
    //cy.iframe().find('body').as('iframeBody')
    //play the video
    // cy.get('@iframeBody').find('.elementor-element-1e614d4 .elementor-video-iframe').then(($video) => {
    //   $video[0].play()
    // })
    // cy.wait(10000)
    // cy.get('@iframeBody').find('video').then(($video) => {
    //   $video[0].pause()
    // })
    
  })